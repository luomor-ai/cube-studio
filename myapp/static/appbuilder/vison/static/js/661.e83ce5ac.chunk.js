"use strict";(self.webpackChunkvite_ml_platform=self.webpackChunkvite_ml_platform||[]).push([[661],{27245:function(e,t,r){r.r(t),r.d(t,{default:function(){return I}});var a=r(51869),n=r(25810),o=r(64120),s=r(16027),i=r(24258),l=r(12898),u=r(64606),c=r(4879),f=r(78960),d=r(12522),p=r(78195),m=r(57764),h=r(80325),Z=r(1649),v=r(10493),g=r(38319),_=r(29916),y=r(60854),b=r(78288),x=r(90117),j=r(80340),w={uuid:Date.now(),getUUid:function(){return this.uuid++}};function I(){var e=(0,_.k6)(),t=u.createRef(),r=(0,u.useState)({feature_set_id:"",feature_group_name:"",feature_group_desc:"",owner_rtxs:"",feature_user_slot:"",feature_item_slot:"",feature_name:"",feature_desc:"",unique_feature_name:"",timeout:"",hashId:"",resource_info:"",ReFeatureInformationTitle:"\u6ce8\u518c\u7279\u5f81\u4fe1\u606f",group_id:"",sample_id:"",isomerismFeatureInfoArray:[{feature_id:void 0}]}),I=(0,l.Z)(r,2),C=I[0],O=I[1],N=(0,u.useState)([{uuid:w.getUUid(),feature_id:"",feature_desc:"",feature_item_slot:void 0,feature_name:"",feature_user_slot:"",feature_type:[],numer_type:[],ReFeatureInformationTitle:"\u6ce8\u518c\u7279\u5f81\u4fe1\u606f"}]),S=(0,l.Z)(N,2),E=S[0],F=S[1],T=(0,u.useState)([{label:"",value:""}]),P=(0,l.Z)(T,2),k=P[0],A=P[1],R=(0,u.useState)([{label:"",value:""}]),V=(0,l.Z)(R,2),D=V[0],U=V[1],H=(0,u.useState)([{label:"",value:""}]),L=(0,l.Z)(H,2),B=L[0],Y=L[1],z=(0,u.useState)([{feature_serv_name:"",feature_serv_id:"",feature_serv_type:""}]),$=(0,l.Z)(z,2),q=$[0],Q=$[1],M=(0,u.useState)([{feature_serv_name:"",feature_serv_id:"",feature_serv_type:""}]),X=(0,l.Z)(M,2),J=X[0],K=X[1],W=(0,u.useState)([]),G=(0,l.Z)(W,2),ee=G[0],te=G[1],re=(0,u.useState)(!0),ae=(0,l.Z)(re,2),ne=ae[0],oe=ae[1],se=(0,u.useState)([{label:"",value:""}]),ie=(0,l.Z)(se,2),le=ie[0],ue=ie[1];function ce(e){x.Z.featureDisplaySetGetQuest(e,!0,!0).then((function(e){if(0===e.retcode){var t=e.result.featureServRouter;Q(t)}else e.retmsg&&c.ZP.error("\u5931\u8d25\u539f\u56e0: ".concat(e.retmsg))}))}(0,u.useEffect)((function(){x.Z.featureKVDataDisplayPostQuest({class:"FEATURE,DATASOURCES,FEATURETYPE,FEATURESTYLE"}).then((function(e){if(0===e.retcode){var t=e.result.data.FEATURE,r=e.result.data.DATASOURCES,a=e.result.data.FEATURETYPE,n=e.result.data.FEATURESTYLE;A(t),ue(r),U(a),Y(n),c.ZP.success("\u67e5\u8be2\u6210\u529f")}else e.retmsg&&c.ZP.error("\u5931\u8d25\u539f\u56e0: ".concat(e.retmsg))}));var r,a,n,o,s={};e.location.state?(s=e.location.state,sessionStorage.setItem("keyIDChilder",JSON.stringify(s)),"4"===s.source_type?oe(!1):oe(!0),O((0,i.Z)({},s)),"\u4fee\u6539\u6ce8\u518c\u7279\u5f81\u4fe1\u606f"===s.ReFeatureInformationTitle?(ce(s.feature_set_id),null===(r=t.current)||void 0===r||r.setFieldsValue((0,i.Z)((0,i.Z)({},s),{},{strategy_ids:s.strategy_ids})),F(s.isomerismFeatureInfoArray)):(null===(a=t.current)||void 0===a||a.setFieldsValue((0,i.Z)((0,i.Z)({},s),{},{strategy_ids:s.strategy_ids})),F(s.isomerismFeatureInfoArray?s.isomerismFeatureInfoArray:[]),ce(s.sample_id))):("4"===(s=JSON.parse(sessionStorage.getItem("keyIDChilder")||"")).source_type?oe(!1):oe(!0),O((0,i.Z)({},s)),"\u4fee\u6539\u6ce8\u518c\u7279\u5f81\u4fe1\u606f"===s.ReFeatureInformationTitle?(ce(s.feature_set_id),null===(n=t.current)||void 0===n||n.setFieldsValue((0,i.Z)((0,i.Z)({},s),{},{strategy_ids:s.strategy_ids})),F(s.isomerismFeatureInfoArray)):(null===(o=t.current)||void 0===o||o.setFieldsValue((0,i.Z)((0,i.Z)({},s),{},{strategy_ids:s.strategy_ids})),F(s.isomerismFeatureInfoArray?s.isomerismFeatureInfoArray:[]),ce(s.sample_id||s.feature_set_id)))}),[]),(0,u.useEffect)((function(){for(var e=0;e<E.length;e++){var r,a;null===(r=t.current)||void 0===r||r.setFieldsValue((a={},(0,s.Z)(a,"feature_id".concat(e),E[e].feature_id),(0,s.Z)(a,"feature_name".concat(e),E[e].feature_name),(0,s.Z)(a,"feature_desc".concat(e),E[e].feature_desc),(0,s.Z)(a,"feature_type".concat(e),E[e].feature_type),(0,s.Z)(a,"numer_type".concat(e),E[e].numer_type),(0,s.Z)(a,"feature_user_slot".concat(e),E[e].feature_user_slot),(0,s.Z)(a,"feature_item_slot".concat(e),E[e].feature_item_slot),(0,s.Z)(a,"hashId".concat(e),E[e].hashId),(0,s.Z)(a,"unique_feature_name".concat(e),E[e].unique_feature_name),a))}}),[E]);var fe=function(){var e=(0,o.Z)((0,a.Z)().mark((function e(){var t;return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,de();case 3:t=e.sent,F([].concat((0,n.Z)(t),[{uuid:w.getUUid(),feature_id:"",feature_desc:t.feature_desc,feature_item_slot:t.feature_item_slot,feature_name:"",feature_user_slot:"",feature_type:[],numer_type:[],ReFeatureInformationTitle:"\u6ce8\u518c\u7279\u5f81\u4fe1\u606f"}])),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.error(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}(),de=function(){return new Promise((function(e,r){try{var a,n=null===(a=t.current)||void 0===a?void 0:a.getFieldsValue(),o=/(\d+)$/,s=[],u={};Object.entries(n).forEach((function(e){var t=(0,l.Z)(e,2),r=t[0],a=t[1];if(o.test(r)){var n=RegExp.$1;s[n]||(s[n]={}),s[n][r.substring(0,r.length-String(n).length)]=a}else u[r]=a})),e(s.map((function(e){return(0,i.Z)((0,i.Z)({},e),{},{uuid:w.getUUid()})})))}catch(c){r(c)}}))},pe=function(){var e=(0,o.Z)((0,a.Z)().mark((function e(t){var r;return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:(r=ee.slice()).push(t),te(r),t.uuid&&F(E.filter((function(e){return e.uuid!==t.uuid}))),t.uuid||F(E.filter((function(e){return e.feature_id!==t.feature_id})));case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),me={rules:[{required:!0,message:"Please select time!"}]};return(0,j.jsx)("div",{className:"SceneRegistrationClass",children:(0,j.jsxs)("div",{className:"bodyClass",children:[(0,j.jsx)("div",{className:"SceneHeader",children:C.ReFeatureInformationTitle}),(0,j.jsx)("div",{className:"site-card-border-less-wrapper",children:(0,j.jsxs)(f.Z,{ref:t,name:"IsomerismFeatureInfoArray",onFinish:function(t){var r=/(\d+)$/,a=[],o={};Object.entries(t).forEach((function(e){var t=(0,l.Z)(e,2),n=t[0],s=t[1];if(r.test(n)){var i=RegExp.$1;a[i]||(a[i]={}),a[i][n.substring(0,n.length-String(i).length)]=s}else o[n]=s}));var s=E[E.length-1].feature_id;if("\u67e5\u770b\u6ce8\u518c\u7279\u5f81\u4fe1\u606f"===C.ReFeatureInformationTitle&&e.push("/HeterogeneousPlatform/Nationalkaraoke/FeatureSetConfiguration"),"\u4fee\u6539\u6ce8\u518c\u7279\u5f81\u4fe1\u606f"===C.ReFeatureInformationTitle){if(C.group_id){var u=ee.map((function(e){return{feature_id:e.feature_id,isDel:1}})),f=a.concat(u),d=Object.assign((0,i.Z)((0,i.Z)({},o),{},{group_id:C.group_id}),{isomerismFeatureInfoArray:(0,n.Z)(f)}),p={};if(function e(t,r){if("[object Object]"===Object.prototype.toString.call(t)&&"[object Object]"===Object.prototype.toString.call(r))for(var a in t)if(Object.prototype.hasOwnProperty.call(t,a)){var n=t[a],o=r[a];if(Array.isArray(n))for(var s=0;s<n.length;s++)for(var i=0;i<o.length;i++)e(n[s],o[i]);else t[a]!==r[a]&&(p[a]=r[a])}}(C,d),x.Z.featureUpdateIsomerismFeatureFeatureInfoQUEST(d).then((function(t){0===t.retcode?(e.push("/HeterogeneousPlatform/Nationalkaraoke/FeatureSetConfiguration"),c.ZP.success("\u4fee\u6539\u6ce8\u518c\u7279\u5f81\u4fe1\u606f")):t.retmsg&&c.ZP.error("\u5931\u8d25\u539f\u56e0: ".concat(t.retmsg))})),""===s){var m=a.filter((function(e){return!e.feature_id&&(delete e.feature_id,e)})),h=Object.assign({group_id:C.group_id},{isomerismFeatureInfoArray:(0,n.Z)(m)});x.Z.featureRegisterIsomerismFeatureFeatureInfoPostQuest(h).then((function(t){0===t.retcode?(e.push("/HeterogeneousPlatform/Nationalkaraoke/FeatureSetConfiguration"),c.ZP.success("\u65b0\u589e\u6210\u529f")):t.retmsg&&c.ZP.error("\u5931\u8d25\u539f\u56e0: ".concat(t.retmsg))}))}}}else if("\u6ce8\u518c\u7279\u5f81\u4fe1\u606f"===C.ReFeatureInformationTitle){var Z=a.filter((function(e){return!e.feature_id&&(delete e.feature_id,e)})),v=Object.assign((0,i.Z)((0,i.Z)({},o),{},{feature_set_id:C.sample_id||C.feature_set_id}),{isomerismFeatureInfoArray:(0,n.Z)(Z)});x.Z.featureRegisterIsomerismFeatureFeatureInfoPostQuest(v).then((function(t){0===t.retcode?(e.push("/HeterogeneousPlatform/Nationalkaraoke/FeatureSetConfiguration"),c.ZP.success("\u67e5\u8be2\u6210\u529f")):t.retmsg&&c.ZP.error("\u5931\u8d25\u539f\u56e0: ".concat(t.retmsg))}))}},autoComplete:"off",layout:"vertical",children:[(0,j.jsx)(d.Z,{title:"\u57fa\u672c\u4fe1\u606f",bordered:!1,children:(0,j.jsxs)(p.Z,{gutter:16,children:[(0,j.jsx)(m.Z,{className:"gutter-row",span:8,children:(0,j.jsx)(f.Z.Item,{label:"\u7279\u5f81\u7ec4id",name:"feature_set_id",children:(0,j.jsx)(h.Z,{disabled:!0,placeholder:"\u8bf7\u8f93\u5165\u7269\u54c1slot",style:{width:200}})})}),(0,j.jsx)(m.Z,{className:"gutter-row",span:8,children:(0,j.jsx)(f.Z.Item,(0,i.Z)((0,i.Z)({label:"\u7279\u5f81\u7ec4\u7c7b\u578b",name:"feature_group_type"},me),{},{children:(0,j.jsx)(Z.Z,{placeholder:"\u8bf7\u9009\u62e9\u7279\u5f81\u7ec4\u7c7b\u578b",style:{width:"200px"},children:k.map((function(e){return(0,j.jsx)(Z.Z.Option,{value:e.value,children:e.label},e.label)}))})}))}),(0,j.jsx)(m.Z,{className:"gutter-row",span:8,children:(0,j.jsx)(f.Z.Item,(0,i.Z)((0,i.Z)({label:"\u7279\u5f81\u7ec4\u540d\u79f0",name:"feature_group_name"},me),{},{children:(0,j.jsx)(v.Z,{placeholder:"\u8bf7\u8f93\u5165\u7279\u5f81\u7ec4\u540d\u79f0",style:{width:200}})}))}),(0,j.jsx)(m.Z,{className:"gutter-row",span:8,children:(0,j.jsx)(f.Z.Item,(0,i.Z)((0,i.Z)({label:"\u7279\u5f81\u7ec4\u63cf\u8ff0",name:"feature_group_desc"},me),{},{children:(0,j.jsx)(v.Z,{placeholder:"\u8bf7\u8f93\u5165\u7279\u5f81\u7ec4\u63cf\u8ff0",style:{width:200}})}))}),(0,j.jsx)(m.Z,{className:"gutter-row",span:8,children:(0,j.jsx)(f.Z.Item,(0,i.Z)((0,i.Z)({label:"\u8d23\u4efb\u4eba",name:"owner_rtxs"},me),{},{children:(0,j.jsx)(v.Z,{placeholder:"\u8bf7\u8f93\u5165\u8d23\u4efb\u4eba",style:{width:200}})}))})]})}),(0,j.jsx)(d.Z,{title:"\u5b58\u50a8\u4fe1\u606f",bordered:!1,children:(0,j.jsxs)(p.Z,{gutter:16,children:[(0,j.jsx)(m.Z,{className:"gutter-row",span:8,children:(0,j.jsx)(f.Z.Item,(0,i.Z)((0,i.Z)({label:"\u6570\u636e\u6765\u6e90",name:"source_type"},me),{},{children:(0,j.jsx)(Z.Z,{placeholder:"\u8bf7\u9009\u62e9\u6570\u636e\u6765\u6e90",style:{width:"200px"},onChange:function(e){var r;oe("4"!==e),null===(r=t.current)||void 0===r||r.setFieldsValue({resource_info:""});var a=q.filter((function(t){if(t.feature_serv_type===e)return{value:t.feature_serv_id,key:t.feature_serv_id,label:t.feature_serv_name}}));K(a)},children:le.map((function(e){return(0,j.jsx)(Z.Z.Option,{value:e.value,children:e.label},e.label)}))})}))}),(0,j.jsx)(m.Z,{className:"gutter-row",span:8,children:(0,j.jsx)(f.Z.Item,(0,i.Z)((0,i.Z)({label:"\u7279\u5f81\u670d\u52a1",name:"resource_info"},me),{},{children:(0,j.jsx)(Z.Z,{placeholder:"\u8bf7\u9009\u62e9\u7279\u5f81\u670d\u52a1",style:{width:"200px"},children:J.map((function(e){return(0,j.jsx)(Z.Z.Option,{value:e.feature_serv_id,children:e.feature_serv_name},e.feature_serv_id)}))})}))}),(0,j.jsx)(m.Z,{className:"gutter-row",span:8,children:(0,j.jsx)(f.Z.Item,(0,i.Z)((0,i.Z)({label:"\u8fc7\u671f\u65f6\u95f4",name:"timeout"},me),{},{children:(0,j.jsx)(h.Z,{addonAfter:"ms",placeholder:"\u8bf7\u8f93\u5165\u8fc7\u671f\u65f6\u95f4",style:{width:200}})}))})]})}),(0,j.jsxs)(d.Z,{title:"\u7279\u5f81\u5b57\u6bb5\u4fe1\u606f",bordered:!1,children:[(0,j.jsx)(f.Z.Item,{children:E.map((function(e,t){return(0,j.jsxs)(p.Z,{gutter:16,children:[(0,j.jsx)(m.Z,{className:"gutter-row",span:8,children:(0,j.jsx)(f.Z.Item,{label:"\u7279\u5f81ID",name:"feature_id".concat(t),children:(0,j.jsx)(v.Z,{disabled:!0,placeholder:"\u8bf7\u8f93\u5165\u7279\u5f81\u82f1\u6587\u540d",style:{width:200}})})}),(0,j.jsx)(m.Z,{className:"gutter-row",span:8,children:(0,j.jsx)(f.Z.Item,(0,i.Z)((0,i.Z)({label:"\u7279\u5f81\u82f1\u6587\u540d",name:"feature_name".concat(t)},me),{},{children:(0,j.jsx)(v.Z,{disabled:!!e.feature_name,placeholder:"\u8bf7\u8f93\u5165\u7279\u5f81\u82f1\u6587\u540d",style:{width:200}})}))}),(0,j.jsx)(m.Z,{className:"gutter-row",span:8,children:(0,j.jsx)(f.Z.Item,(0,i.Z)((0,i.Z)({label:"\u7279\u5f81\u4e2d\u6587\u540d",name:"feature_desc".concat(t)},me),{},{children:(0,j.jsx)(v.Z,{placeholder:"\u8bf7\u8f93\u5165\u7279\u5f81\u4e2d\u6587\u540d",style:{width:200}})}))}),(0,j.jsx)(m.Z,{className:"gutter-row",span:8,children:(0,j.jsx)(f.Z.Item,{label:"\u552f\u4e00\u7279\u5f81\u540d",name:"unique_feature_name".concat(t),children:(0,j.jsx)(v.Z,{disabled:!0,placeholder:"\u8bf7\u8f93\u5165\u552f\u4e00\u7279\u5f81\u540d",style:{width:200}})})}),(0,j.jsx)(m.Z,{className:"gutter-row",span:8,children:(0,j.jsx)(f.Z.Item,(0,i.Z)((0,i.Z)({label:"\u7279\u5f81\u683c\u5f0f",name:"feature_type".concat(t)},me),{},{children:(0,j.jsx)(Z.Z,{placeholder:"\u8bf7\u9009\u62e9\u7279\u5f81\u670d\u52a1",style:{width:"200px"},children:B.map((function(e){return(0,j.jsx)(Z.Z.Option,{value:e.value,children:e.label},e.label)}))})}))}),(0,j.jsx)(m.Z,{className:"gutter-row",span:8,children:(0,j.jsx)(f.Z.Item,(0,i.Z)((0,i.Z)({label:"\u7279\u5f81\u7c7b\u578b",name:"numer_type".concat(t)},me),{},{children:(0,j.jsx)(Z.Z,{placeholder:"\u8bf7\u9009\u62e9\u7279\u5f81\u7c7b\u578b",style:{width:"200px"},children:D.map((function(e){return(0,j.jsx)(Z.Z.Option,{value:e.value,children:e.label},e.label)}))})}))}),(0,j.jsx)(m.Z,{className:"gutter-row",span:8,children:(0,j.jsx)(f.Z.Item,(0,i.Z)((0,i.Z)({label:"\u7528\u6237slot",name:"feature_user_slot".concat(t)},me),{},{children:(0,j.jsx)(h.Z,{placeholder:"\u8bf7\u8f93\u5165\u7528\u6237slot",style:{width:200}})}))}),(0,j.jsx)(m.Z,{className:"gutter-row",span:8,children:(0,j.jsx)(f.Z.Item,(0,i.Z)((0,i.Z)({label:"\u7269\u54c1slot",name:"feature_item_slot".concat(t)},me),{},{children:(0,j.jsx)(h.Z,{placeholder:"\u8bf7\u8f93\u5165\u7269\u54c1slot",style:{width:200}})}))}),(0,j.jsx)(m.Z,{className:"gutter-row",span:8,children:(0,j.jsx)(f.Z.Item,{label:"hashId",name:"hashId".concat(t),children:(0,j.jsx)(v.Z,{disabled:ne,style:{width:200}})})}),(0,j.jsx)(m.Z,{className:"gutter-row",span:8,children:(0,j.jsx)(f.Z.Item,{children:(0,j.jsx)(g.Z,{className:"ButtonClass",type:"dashed",onClick:function(){return pe(e)},block:!0,icon:(0,j.jsx)(y.Z,{})})})})]},t)}))}),(0,j.jsx)(f.Z.Item,{children:(0,j.jsx)(g.Z,{type:"dashed",onClick:fe,block:!0,icon:(0,j.jsx)(b.Z,{}),children:"\u65b0\u589e"})}),(0,j.jsx)(f.Z.Item,{children:(0,j.jsxs)("div",{className:"preservationClass",children:[(0,j.jsx)(g.Z,{style:{backgroundColor:"rgba(255, 87, 51, 1)",width:"140px",height:"40px",marginRight:"10px"},onClick:function(){return e.go(-1)},type:"primary",children:"\u8fd4\u56de"}),(0,j.jsx)(g.Z,{type:"primary",htmlType:"submit",style:{backgroundColor:"rgba(255, 87, 51, 1)",width:" 140px",height:"40px"},children:"\u67e5\u770b\u6ce8\u518c\u7279\u5f81\u4fe1\u606f"===C.ReFeatureInformationTitle?"\u8fd4\u56de":"\u4fdd\u5b58"})]})})]})]})})]})})}},60854:function(e,t,r){r.d(t,{Z:function(){return l}});var a=r(24258),n=r(64606),o={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M696 480H328c-4.4 0-8 3.6-8 8v48c0 4.4 3.6 8 8 8h368c4.4 0 8-3.6 8-8v-48c0-4.4-3.6-8-8-8z"}},{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm0 820c-205.4 0-372-166.6-372-372s166.6-372 372-372 372 166.6 372 372-166.6 372-372 372z"}}]},name:"minus-circle",theme:"outlined"},s=r(17240),i=function(e,t){return n.createElement(s.Z,(0,a.Z)((0,a.Z)({},e),{},{ref:t,icon:o}))};i.displayName="MinusCircleOutlined";var l=n.forwardRef(i)},90101:function(e,t,r){r.d(t,{E:function(){return n},Y:function(){return o}});var a=r(37274),n=(0,a.b)("success","processing","error","default","warning"),o=(0,a.b)("pink","red","yellow","orange","cyan","green","blue","purple","geekblue","magenta","volcano","gold","lime")},79445:function(e,t,r){r.d(t,{Z:function(){return T}});var a=r(16027),n=r(12898),o=r(17706),s=r(64606),i=r(64490),l=r(24258),u=r(15095),c=r(97715),f={adjustX:1,adjustY:1},d=[0,0],p={left:{points:["cr","cl"],overflow:f,offset:[-4,0],targetOffset:d},right:{points:["cl","cr"],overflow:f,offset:[4,0],targetOffset:d},top:{points:["bc","tc"],overflow:f,offset:[0,-4],targetOffset:d},bottom:{points:["tc","bc"],overflow:f,offset:[0,4],targetOffset:d},topLeft:{points:["bl","tl"],overflow:f,offset:[0,-4],targetOffset:d},leftTop:{points:["tr","tl"],overflow:f,offset:[-4,0],targetOffset:d},topRight:{points:["br","tr"],overflow:f,offset:[0,-4],targetOffset:d},rightTop:{points:["tl","tr"],overflow:f,offset:[4,0],targetOffset:d},bottomRight:{points:["tr","br"],overflow:f,offset:[0,4],targetOffset:d},rightBottom:{points:["bl","br"],overflow:f,offset:[4,0],targetOffset:d},bottomLeft:{points:["tl","bl"],overflow:f,offset:[0,4],targetOffset:d},leftBottom:{points:["br","bl"],overflow:f,offset:[-4,0],targetOffset:d}},m=function(e){var t=e.overlay,r=e.prefixCls,a=e.id,n=e.overlayInnerStyle;return s.createElement("div",{className:"".concat(r,"-inner"),id:a,role:"tooltip",style:n},"function"===typeof t?t():t)},h=function(e,t){var r=e.overlayClassName,a=e.trigger,n=void 0===a?["hover"]:a,f=e.mouseEnterDelay,d=void 0===f?0:f,h=e.mouseLeaveDelay,Z=void 0===h?.1:h,v=e.overlayStyle,g=e.prefixCls,_=void 0===g?"rc-tooltip":g,y=e.children,b=e.onVisibleChange,x=e.afterVisibleChange,j=e.transitionName,w=e.animation,I=e.motion,C=e.placement,O=void 0===C?"right":C,N=e.align,S=void 0===N?{}:N,E=e.destroyTooltipOnHide,F=void 0!==E&&E,T=e.defaultVisible,P=e.getTooltipContainer,k=e.overlayInnerStyle,A=(0,u.Z)(e,["overlayClassName","trigger","mouseEnterDelay","mouseLeaveDelay","overlayStyle","prefixCls","children","onVisibleChange","afterVisibleChange","transitionName","animation","motion","placement","align","destroyTooltipOnHide","defaultVisible","getTooltipContainer","overlayInnerStyle"]),R=(0,s.useRef)(null);(0,s.useImperativeHandle)(t,(function(){return R.current}));var V=(0,l.Z)({},A);"visible"in e&&(V.popupVisible=e.visible);var D=!1,U=!1;if("boolean"===typeof F)D=F;else if(F&&"object"===(0,i.Z)(F)){var H=F.keepParent;D=!0===H,U=!1===H}return s.createElement(c.Z,(0,o.Z)({popupClassName:r,prefixCls:_,popup:function(){var t=e.arrowContent,r=void 0===t?null:t,a=e.overlay,n=e.id;return[s.createElement("div",{className:"".concat(_,"-arrow"),key:"arrow"},r),s.createElement(m,{key:"content",prefixCls:_,id:n,overlay:a,overlayInnerStyle:k})]},action:n,builtinPlacements:p,popupPlacement:O,ref:R,popupAlign:S,getPopupContainer:P,onPopupVisibleChange:b,afterPopupVisibleChange:x,popupTransitionName:j,popupAnimation:w,popupMotion:I,defaultPopupVisible:T,destroyPopupOnHide:D,autoDestroy:U,mouseLeaveDelay:Z,popupStyle:v,mouseEnterDelay:d},V),y)},Z=(0,s.forwardRef)(h),v=r(86126),g=r(82444),_=r.n(g),y={adjustX:1,adjustY:1},b={adjustX:0,adjustY:0},x=[0,0];function j(e){return"boolean"===typeof e?e?y:b:(0,o.Z)((0,o.Z)({},b),e)}var w=r(70170),I=r(3251),C=r(90101),O=r(75416),N=function(e,t){var r={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&t.indexOf(a)<0&&(r[a]=e[a]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var n=0;for(a=Object.getOwnPropertySymbols(e);n<a.length;n++)t.indexOf(a[n])<0&&Object.prototype.propertyIsEnumerable.call(e,a[n])&&(r[a[n]]=e[a[n]])}return r},S=new RegExp("^(".concat(C.Y.join("|"),")(-inverse)?$"));function E(e,t){var r=e.type;if((!0===r.__ANT_BUTTON||!0===r.__ANT_SWITCH||!0===r.__ANT_CHECKBOX||"button"===e.type)&&e.props.disabled){var a=function(e,t){var r={},a=(0,o.Z)({},e);return t.forEach((function(t){e&&t in e&&(r[t]=e[t],delete a[t])})),{picked:r,omitted:a}}(e.props.style,["position","left","right","top","bottom","float","display","zIndex"]),n=a.picked,i=a.omitted,l=(0,o.Z)((0,o.Z)({display:"inline-block"},n),{cursor:"not-allowed",width:e.props.block?"100%":null}),u=(0,o.Z)((0,o.Z)({},i),{pointerEvents:"none"}),c=(0,w.Tm)(e,{style:u,className:null});return s.createElement("span",{style:l,className:_()(e.props.className,"".concat(t,"-disabled-compatible-wrapper"))},c)}return e}var F=s.forwardRef((function(e,t){var r,i=s.useContext(I.E_),l=i.getPopupContainer,u=i.getPrefixCls,c=i.direction,f=(0,v.Z)(!1,{value:e.visible,defaultValue:e.defaultVisible}),d=(0,n.Z)(f,2),m=d[0],h=d[1],g=function(){var t=e.title,r=e.overlay;return!t&&!r&&0!==t},y=function(){var t=e.builtinPlacements,r=e.arrowPointAtCenter,a=e.autoAdjustOverflow;return t||function(e){var t=e.arrowWidth,r=void 0===t?4:t,a=e.horizontalArrowShift,n=void 0===a?16:a,s=e.verticalArrowShift,i=void 0===s?8:s,l=e.autoAdjustOverflow,u={left:{points:["cr","cl"],offset:[-4,0]},right:{points:["cl","cr"],offset:[4,0]},top:{points:["bc","tc"],offset:[0,-4]},bottom:{points:["tc","bc"],offset:[0,4]},topLeft:{points:["bl","tc"],offset:[-(n+r),-4]},leftTop:{points:["tr","cl"],offset:[-4,-(i+r)]},topRight:{points:["br","tc"],offset:[n+r,-4]},rightTop:{points:["tl","cr"],offset:[4,-(i+r)]},bottomRight:{points:["tr","bc"],offset:[n+r,4]},rightBottom:{points:["bl","cr"],offset:[4,i+r]},bottomLeft:{points:["tl","bc"],offset:[-(n+r),4]},leftBottom:{points:["br","cl"],offset:[-4,i+r]}};return Object.keys(u).forEach((function(t){u[t]=e.arrowPointAtCenter?(0,o.Z)((0,o.Z)({},u[t]),{overflow:j(l),targetOffset:x}):(0,o.Z)((0,o.Z)({},p[t]),{overflow:j(l)}),u[t].ignoreShake=!0})),u}({arrowPointAtCenter:r,autoAdjustOverflow:a})},b=e.getPopupContainer,C=N(e,["getPopupContainer"]),F=e.prefixCls,T=e.openClassName,P=e.getTooltipContainer,k=e.overlayClassName,A=e.color,R=e.overlayInnerStyle,V=e.children,D=u("tooltip",F),U=u(),H=m;!("visible"in e)&&g()&&(H=!1);var L,B=E((0,w.l$)(V)?V:s.createElement("span",null,V),D),Y=B.props,z=_()(Y.className,(0,a.Z)({},T||"".concat(D,"-open"),!0)),$=_()(k,(r={},(0,a.Z)(r,"".concat(D,"-rtl"),"rtl"===c),(0,a.Z)(r,"".concat(D,"-").concat(A),A&&S.test(A)),r)),q=R;return A&&!S.test(A)&&(q=(0,o.Z)((0,o.Z)({},R),{background:A}),L={background:A}),s.createElement(Z,(0,o.Z)({},C,{prefixCls:D,overlayClassName:$,getTooltipContainer:b||P||l,ref:t,builtinPlacements:y(),overlay:function(){var t=e.title,r=e.overlay;return 0===t?t:r||t||""}(),visible:H,onVisibleChange:function(t){var r;h(!g()&&t),g()||null===(r=e.onVisibleChange)||void 0===r||r.call(e,t)},onPopupAlign:function(e,t){var r=y(),a=Object.keys(r).filter((function(e){return r[e].points[0]===t.points[0]&&r[e].points[1]===t.points[1]}))[0];if(a){var n=e.getBoundingClientRect(),o={top:"50%",left:"50%"};a.indexOf("top")>=0||a.indexOf("Bottom")>=0?o.top="".concat(n.height-t.offset[1],"px"):(a.indexOf("Top")>=0||a.indexOf("bottom")>=0)&&(o.top="".concat(-t.offset[1],"px")),a.indexOf("left")>=0||a.indexOf("Right")>=0?o.left="".concat(n.width-t.offset[0],"px"):(a.indexOf("right")>=0||a.indexOf("Left")>=0)&&(o.left="".concat(-t.offset[0],"px")),e.style.transformOrigin="".concat(o.left," ").concat(o.top)}},overlayInnerStyle:q,arrowContent:s.createElement("span",{className:"".concat(D,"-arrow-content"),style:L}),motion:{motionName:(0,O.m)(U,"zoom-big-fast",e.transitionName),motionDeadline:1e3}}),H?(0,w.Tm)(B,{className:z}):B)}));F.displayName="Tooltip",F.defaultProps={placement:"top",mouseEnterDelay:.1,mouseLeaveDelay:.1,arrowPointAtCenter:!1,autoAdjustOverflow:!0};var T=F}}]);